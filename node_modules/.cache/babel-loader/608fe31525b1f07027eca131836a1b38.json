{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\react\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\react\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\react\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\react\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\react\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\react\\\\front\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import MyHeader from\"./components/MyHeader\";import{observer}from\"mobx-react\";import MainContainer from\"./components/MainContainer\";import MyFooter from\"./components/MyFooter\";import\"./css/style.css\";import UserStore from\"./stores/UserStore\";var Start=/*#__PURE__*/function(_React$Component){_inherits(Start,_React$Component);var _super=_createSuper(Start);function Start(){var _this;_classCallCheck(this,Start);_this=_super.call(this);_this.username=UserStore.username;_this.isLoggedIn=UserStore.isLoggedIn;return _this;}_createClass(Start,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"/isLoggedIn\",{method:\"post\",headers:{\"Accept\":\"application/json\",\"Content-Type\":\"application/json\"}});case 3:res=_context.sent;_context.next=6;return res.json();case 6:result=_context.sent;if(result&&result.success){UserStore.loading=false;UserStore.isLoggedIn=true;UserStore.username=result.username;}else{UserStore.loading=false;UserStore.isLoggedIn=false;}_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);UserStore.loading=false;UserStore.isLoggedIn=false;case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:case\"end\":return _context2.stop();}}},_callee2);}));function componentDidUpdate(){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"render\",value:function render(){if(UserStore.loading){return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},\"Loading, please wait\");}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid\"},/*#__PURE__*/React.createElement(MyHeader,null),/*#__PURE__*/React.createElement(MainContainer,null),/*#__PURE__*/React.createElement(MyFooter,null));}}}]);return Start;}(React.Component);export default observer(Start);","map":{"version":3,"sources":["D:/react/front/src/Start.js"],"names":["React","MyHeader","observer","MainContainer","MyFooter","UserStore","Start","username","isLoggedIn","fetch","method","headers","res","json","result","success","loading","Component"],"mappings":"qzBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,OAASC,QAAT,KAAyB,YAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,uBAArB,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,SAAP,KAAsB,oBAAtB,C,GACMC,CAAAA,K,0GACL,gBAAa,uCACZ,wBACA,MAAKC,QAAL,CAAcF,SAAS,CAACE,QAAxB,CACA,MAAKC,UAAL,CAAgBH,SAAS,CAACG,UAA1B,CAHY,aAIZ,C,qUAGiBC,CAAAA,KAAK,CAAC,aAAD,CAAgB,CACpCC,MAAM,CAAE,MAD4B,CAEpCC,OAAO,CAAE,CACR,SAAU,kBADF,CAER,eAAgB,kBAFR,CAF2B,CAAhB,C,QAAjBC,G,qCAOeA,CAAAA,GAAG,CAACC,IAAJ,E,QAAfC,M,eACJ,GAAIA,MAAM,EAAIA,MAAM,CAACC,OAArB,CAA8B,CAC7BV,SAAS,CAACW,OAAV,CAAoB,KAApB,CACAX,SAAS,CAACG,UAAV,CAAuB,IAAvB,CACAH,SAAS,CAACE,QAAV,CAAqBO,MAAM,CAACP,QAA5B,CACA,CAJD,IAIO,CACNF,SAAS,CAACW,OAAV,CAAoB,KAApB,CACAX,SAAS,CAACG,UAAV,CAAuB,KAAvB,CACA,C,iFAEDH,SAAS,CAACW,OAAV,CAAoB,KAApB,CACAX,SAAS,CAACG,UAAV,CAAuB,KAAvB,C,+nBAKO,CACR,GAAIH,SAAS,CAACW,OAAd,CAAuB,CACtB,mBAAO,2BAAK,SAAS,CAAC,iBAAf,yBAAP,CACA,CAFD,IAEO,CACN,mBACC,2BAAK,SAAS,CAAC,iBAAf,eACC,oBAAC,QAAD,MADD,cAEC,oBAAC,aAAD,MAFD,cAGC,oBAAC,QAAD,MAHD,CADD,CAOA,CACD,C,mBA3CkBhB,KAAK,CAACiB,S,EA6C1B,cAAef,CAAAA,QAAQ,CAACI,KAAD,CAAvB","sourcesContent":["import React from \"react\";\r\nimport MyHeader from \"./components/MyHeader\";\r\nimport { observer } from \"mobx-react\";\r\nimport MainContainer from \"./components/MainContainer\";\r\nimport MyFooter from \"./components/MyFooter\";\r\nimport \"./css/style.css\";\r\nimport UserStore from \"./stores/UserStore\";\r\nclass Start extends React.Component {\r\n\tconstructor(){\r\n\t\tsuper();\r\n\t\tthis.username=UserStore.username;\r\n\t\tthis.isLoggedIn=UserStore.isLoggedIn;\r\n\t}\r\n\tasync componentDidMount() {\r\n\t\ttry {\r\n\t\t\tlet res = await fetch(\"/isLoggedIn\", {\r\n\t\t\t\tmethod: \"post\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"Accept\": \"application/json\",\r\n\t\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tlet result = await res.json();\r\n\t\t\tif (result && result.success) {\r\n\t\t\t\tUserStore.loading = false;\r\n\t\t\t\tUserStore.isLoggedIn = true;\r\n\t\t\t\tUserStore.username = result.username;\r\n\t\t\t} else {\r\n\t\t\t\tUserStore.loading = false;\r\n\t\t\t\tUserStore.isLoggedIn = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tUserStore.loading = false;\r\n\t\t\tUserStore.isLoggedIn = false;\r\n\t\t}\r\n\t}\r\n\tasync componentDidUpdate(){\r\n\t}\r\n\trender() {\r\n\t\tif (UserStore.loading) {\r\n\t\t\treturn <div className=\"container-fluid\">Loading, please wait</div>;\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"container-fluid\">\r\n\t\t\t\t\t<MyHeader />\r\n\t\t\t\t\t<MainContainer />\r\n\t\t\t\t\t<MyFooter />\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n}\r\nexport default observer(Start);\r\n"]},"metadata":{},"sourceType":"module"}