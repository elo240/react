(this.webpackJsonpmyreact=this.webpackJsonpmyreact||[]).push([[0],{52:function(e){e.exports=JSON.parse('[{"id":1,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/dog0.jpg"},{"id":2,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/dog1.jpg"},{"id":3,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/dog2.jpg"},{"id":4,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/dog3.jpg"},{"id":5,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/dog4.jpg"}]')},61:function(e){e.exports=JSON.parse('[{"id":1,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/cute.jpg","title":"Cute","desc":"Looks fluffy","date":"2020-06-29"},{"id":2,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/ears.jpg","title":"All ears","desc":"Behind ears","date":" 2020-07-16"},{"id":3,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/headphones.jpg","title":"Music","desc":"This beats","date":"2020-07-17"},{"id":4,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/nose.jpg","title":"Big nose","desc":"Don\'t sneeze","date":"2020-08-19"},{"id":5,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/nose2.jpg","title":"Big nose","desc":"","date":"2020-09-17"},{"id":6,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/pilot.jpg","title":"Pilot","desc":"Gonna fly, and take the sky","date":"2020-10-02"},{"id":7,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/shiro.jpg","title":"Shiro","desc":"White as snow","date":"2020-10-12"},{"id":8,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/snow.jpg","title":"Snow","desc":"Plays in winter","date":"2020-10-15"},{"id":9,"imgUrl":"https://raw.githubusercontent.com/elo240/PWJS.1/master/img/gallery/stare.jpg","title":"Stare","desc":"Stare","date":"2020-12-14"}]')},76:function(e,t,a){e.exports=a(97)},81:function(e,t,a){},83:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(9),i=a.n(r);a(81),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(19),o=a.n(l),c=a(26),u=a(10),m=a(11),d=a(13),p=a(12),h=(a(83),a(32)),g=a(17),b=a(132),v=a(131),f=a(134),E=a(130),j=a(129),y=a(135),C=a(6),w=new function e(){Object(u.a)(this,e),Object(C.h)(this,{loading:!0,isLoggedIn:!1,username:""})},O=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleChange=function(t){var a=t.target,n=a.value,s=a.name;e.setState(Object(h.a)({},s,n))},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.password&&""!==e.state.username.trim?(e.handleClose(),e.doLogin()):""===e.state.password&&""===e.state.username.trim&&alert("Please fill the fields")},e.state={open:!1,username:"",password:"",buttonDisabled:!1},e.handleClickOpen=e.handleClickOpen.bind(Object(g.a)(e)),e.handleClose=e.handleClose.bind(Object(g.a)(e)),e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e.resetForm=e.resetForm.bind(Object(g.a)(e)),e}return Object(m.a)(a,[{key:"resetForm",value:function(){this.setState({username:"",password:"",buttonDisabled:!1})}},{key:"doLogout",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/logout",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&a.success&&(w.isLoggedIn=!1,w.username=""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"doLogin",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({buttonDisabled:!0}),e.prev=1,e.next=4,fetch("/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})});case 4:return t=e.sent,e.next=7,t.json();case 7:(a=e.sent)&&a.success?(w.isLoggedIn=!0,w.username=a.username,this.resetForm()):a&&!1===a.success&&(alert(a.msg),this.resetForm()),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:this.setState({buttonDisabled:!1});case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!1===w.isLoggedIn?s.a.createElement("div",null,s.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpen,disabled:this.state.buttonDisabled},"Login"),s.a.createElement(f.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},s.a.createElement(y.a,{id:"form-dialog-title"},"Please log in"),s.a.createElement(j.a,null,s.a.createElement(v.a,{autoFocus:!0,margin:"dense",id:"username",name:"username",required:!0,label:"Username",type:"text",onChange:this.handleChange,value:this.state.username,fullWidth:!0}),s.a.createElement(v.a,{margin:"dense",id:"password",name:"password",required:!0,label:"Password",type:"password",onChange:this.handleChange,value:this.state.password,fullWidth:!0})),s.a.createElement(E.a,null,s.a.createElement(b.a,{onClick:this.handleClose,color:"primary"},"Close"),s.a.createElement(b.a,{onClick:this.handleSubmit,color:"primary",disabled:this.state.buttonDisabled},"Login")))):s.a.createElement(b.a,{variant:"outlined",color:"primary",disabled:!1,onClick:this.doLogout},"Logout")}}]),a}(s.a.Component),N=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"header",className:"navbar navbar-expand-lg navbar-light bg-light"},s.a.createElement("a",{className:"navbar-brand",href:"index.html"},"MyWebsite"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},s.a.createElement("ul",{className:"navbar-nav mr-auto ml-auto"},s.a.createElement("li",{className:"nav-item active"},s.a.createElement("a",{className:"nav-link",href:"index.html"},"Home ",s.a.createElement("span",{className:"sr-only"},"(current)"))),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"#cards"},"Cards")),s.a.createElement("li",{className:"nav-item"},s.a.createElement("a",{className:"nav-link",href:"#more"},"Register"))),s.a.createElement("ul",{className:"navbar-nav nav navbar-right"},s.a.createElement("li",{className:"nav-item navbar-right"},s.a.createElement(O,null)))))}}]),a}(s.a.Component),k=a(63),S=RegExp(/^[a-zA-Z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleChange=function(t){var a=t.target,n=a.value,s=a.name;e.setState(Object(h.a)({},s,n)),""===e.state.username||""===e.state.password1||""===e.state.password2||""===e.state.email?e.setState({buttonDisabled:!0}):e.setState({buttonDisabled:!1})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.username.trim()&&""!==e.state.password1.trim()&&S.test(e.state.email)&&""===e.match?(e.setState({buttonDisabled:!0}),e.handleClose(),e.doRegister()):""===e.state.username||""===e.state.password1||""===e.state.password2||""===e.state.email?alert("Please fill the fields"):""!==e.match?alert("Passwords don't match"):alert("Please input correct email adress")},e.match="",e.state={open:!1,username:"",email:"",password1:"",password2:"",buttonDisabled:!0},e.handleClickOpen=e.handleClickOpen.bind(Object(g.a)(e)),e.handleClose=e.handleClose.bind(Object(g.a)(e)),e.handleChange=e.handleChange.bind(Object(g.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(m.a)(a,[{key:"doRegister",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/register",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:this.state.email,username:this.state.username,password:this.state.password1})});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&a.success?(w.isLoggedIn=!0,w.username=a.username):a&&!1===a.success&&alert(a.msg),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:this.setState({buttonDisabled:!1});case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.password1!==this.state.password2?this.match="Passwords don't match":this.match="",s.a.createElement("div",null,s.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:this.handleClickOpen},"Register"),s.a.createElement(f.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},s.a.createElement(y.a,{id:"form-dialog-title"},"Register"),s.a.createElement(j.a,null,s.a.createElement(v.a,{autoFocus:!0,margin:"dense",id:"username",name:"username",required:!0,label:"Username",type:"text",onChange:this.handleChange,value:this.state.username,fullWidth:!0}),s.a.createElement(v.a,{margin:"dense",id:"email",name:"email",required:!0,label:"Email Address",type:"email",onChange:this.handleChange,value:this.state.email,fullWidth:!0}),s.a.createElement(v.a,{margin:"dense",id:"password1",name:"password1",required:!0,label:"Password",type:"password",onChange:this.handleChange,value:this.state.password1,fullWidth:!0}),s.a.createElement(v.a,{margin:"dense",id:"password2",name:"password2",required:!0,label:"Confirm password",type:"password",onChange:this.handleChange,value:this.state.password2,fullWidth:!0}),s.a.createElement("label",null,this.match)),s.a.createElement(E.a,null,s.a.createElement(b.a,{onClick:this.handleClose,color:"primary"},"Cancel"),s.a.createElement(b.a,{onClick:this.handleSubmit,color:"primary",disabled:this.state.buttonDisabled},"Register"))))}}]),a}(s.a.Component),P=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return!1===w.isLoggedIn?s.a.createElement("div",{id:"more",className:"Info"},"Want more? ",s.a.createElement(O,null),"or ",s.a.createElement(x,null)):s.a.createElement("div",null,"You are logged in as ",w.username)}}]),a}(s.a.Component),q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(e){return s.a.createElement("div",{className:"carousel-item"},s.a.createElement("img",{className:"d-block w-100",src:this.props.item.imgUrl,alt:this.props.item.id+" slajd"}))}}]),a}(s.a.Component),W=a(52),L=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=W.map((function(e){return 1===e.id?"":s.a.createElement(q,{key:e.id,item:e})}));return s.a.createElement("div",{id:"carouselID",className:"carousel slide","data-ride":"carousel"},s.a.createElement("div",{className:"carousel-inner"},s.a.createElement("div",{className:"carousel-item active"},s.a.createElement("img",{className:"d-block w-100",src:W[0].imgUrl,alt:"0 slajd"})),e),s.a.createElement("a",{className:"carousel-control-prev",href:"#carouselID",role:"button","data-slide":"prev"},s.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Previous")),s.a.createElement("a",{className:"carousel-control-next",href:"#carouselID",role:"button","data-slide":"next"},s.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),s.a.createElement("span",{className:"sr-only"},"Next")))}}]),a}(s.a.Component),D=a(61),I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(e){return s.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4 card text-center"},s.a.createElement("div",{className:"card-body"},s.a.createElement("img",{className:"card-img",src:this.props.item.imgUrl,alt:""}),s.a.createElement("h3",{className:"card-title"},this.props.item.title),s.a.createElement("p",{className:"card-text"},this.props.item.desc),s.a.createElement("p",{className:"card-text"},this.props.item.date)))}}]),a}(s.a.Component),J=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={query:"",sort:"asc"},n.handleChange=n.handleChange.bind(Object(g.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(h.a)({},n,a))}},{key:"render",value:function(){var e=this,t=D.filter((function(t){return t.date.toLowerCase().includes(e.state.query.toLowerCase())})).sort((function(t,a){return"asc"===e.state.sort?t.date>a.date?1:-1:"desc"===e.state.sort?t.date>a.date?-1:1:"alf"===e.state.sort?t.title>a.title?1:-1:1})).map((function(e){return s.a.createElement(I,{key:e.id,item:e})}));return s.a.createElement("div",null,s.a.createElement("form",null,"Sort:\xa0",s.a.createElement("select",{name:"sort",onChange:this.handleChange},s.a.createElement("option",{value:"asc"},"Ascending"),s.a.createElement("option",{value:"desc"},"Descending"),s.a.createElement("option",{value:"alf"},"Alfabethic")),s.a.createElement("br",null),s.a.createElement("label",{style:{paddingTop:6}},"Date query\xa0"),s.a.createElement("input",{name:"query",value:this.state.query,onChange:this.handleChange,placeholder:"query",type:"text"})),s.a.createElement("div",{id:"cards",className:"row"},t))}}]),a}(s.a.Component),U=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("main",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement(L,null))),s.a.createElement("div",{className:"row"},s.a.createElement("section",{className:"jumbotron"},s.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent dictum nisi sed ultricies consectetur. Pellentesque vestibulum viverra risus nec convallis. Nunc rutrum, dolor vel tempus accumsan, ligula quam finibus ante, non varius lectus nisi vel urna. Vestibulum tincidunt, est sed molestie ultrices, augue purus varius lacus, ut placerat tellus quam id turpis. Cras vel dui justo. Nulla sit amet risus mauris. Curabitur hendrerit purus rutrum risus aliquet, nec condimentum lacus fringilla. Nullam sagittis hendrerit lorem at hendrerit. Nunc non odio eget lorem faucibus ultrices quis sed nibh. Quisque quis urna congue, sodales massa ac, sagittis odio. Nunc in aliquam risus. Morbi et ante id elit aliquet suscipit a vel metus. Praesent sed viverra purus."," ")),s.a.createElement("section",{className:"jumbotron"},s.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam eu metus venenatis, dignissim metus ut, lacinia eros. Integer quis facilisis mi. In sed feugiat ante. Nulla molestie turpis in massa facilisis tincidunt. Sed nisi dui, convallis at aliquam vitae, finibus quis tortor. Integer felis enim, tempor ut lectus eu, consectetur posuere velit. Cras sed ligula libero. Praesent nisl urna, accumsan nec mauris ac, semper ultrices justo. In varius pharetra mauris, in porttitor magna vestibulum sit amet. Aliquam tincidunt turpis neque, ut blandit est dapibus quis."," "))),s.a.createElement(J,null),s.a.createElement("div",{className:"row",id:"#more"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement(P,null))))}}]),a}(s.a.Component),A=a(62),T=(a(95),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("footer",{className:"footer row fixed-bottom"},s.a.createElement("div",{className:"col-sm text-center"},"Copyright \xa9"),s.a.createElement("div",{className:"col-sm text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{width:100},onClick:A.animateScroll.scrollToTop},"To the top")))}}]),a}(s.a.Component)),F=(a(96),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/isLoggedIn",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:(a=e.sent)&&a.success?(w.loading=!1,w.isLoggedIn=!0,w.username=a.username):(w.loading=!1,w.isLoggedIn=!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),w.loading=!1,w.isLoggedIn=!1;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return w.isLoggedIn,w.username,w.loading?s.a.createElement("div",{className:"container-fluid"},"Loading, please wait"):s.a.createElement("div",{className:"container-fluid"},s.a.createElement(N,null),s.a.createElement(U,null),s.a.createElement(T,null))}}]),a}(s.a.Component)),R=Object(k.a)(F);i.a.render(s.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[76,1,2]]]);
//# sourceMappingURL=main.860a84a5.chunk.js.map